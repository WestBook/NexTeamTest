
# 判斷有向圖是否形成一個循環（Cycle）— 規格文件

## 📘 題目描述（中文翻譯）

給定一個 **有 N 個節點與 N 條邊的有向圖**。  
圖使用兩個長度皆為 N 的陣列 **A** 與 **B** 來描述：

- 每筆 `A[K] → B[K]` 表示從節點 A[K] 指向節點 B[K] 的 **有向邊**。
- 圖中可能包含：
  - **自迴圈（self-loop）**：A[K] = B[K]
  - **重複邊**

**你的任務是判斷：這個圖是否構成一個「完整循環（cycle）」？**

也就是：  
是否可以從某個節點出發，沿著圖上的邊 **依序造訪所有節點一次**，並 **最終回到起點**。

---

## 📌 範例  
A = [1, 3, 2, 4]  
B = [4, 1, 3, 2]

此圖形成長度 4 的 cycle：

```
1 → 4 → 2 → 3 → 1
```

---

# 1. 判斷一個圖是否為 Cycle 的必要條件

| 條件 | 說明 |
|------|------|
| 1. 每個節點的出度 = 1 | 每個節點必須剛好指向一個節點 |
| 2. 每個節點的入度 = 1 | 每個節點必須剛好被一個節點指向 |
| 3. 連通性 | 任一節點出發，必須能走訪所有節點（不可有分支、孤立） |
| 4. 最終能回到起點 | 構成封閉迴圈 |

若全部成立 → 這是一個 **cycle**。  
若任一不成立 → **不是 cycle**。

---

# 2. 視覺化圖表說明（ASCII 圖）

## ✔ 符合 Cycle 的結構示意

```
   ┌──────────┐
   │    1     │
   └────┬─────┘
        │
        ▼
   ┌──────────┐
   │    4     │
   └────┬─────┘
        │
        ▼
   ┌──────────┐
   │    2     │
   └────┬─────┘
        │
        ▼
   ┌──────────┐
   │    3     │
   └────┬─────┘
        │
        ▼
       回到 1
```

這是一條完整閉合的 **單一環**，沒有其它路徑或分支。

---

# 3. 小結

若想判斷是否為 cycle，只需確認：

1. 每節點入度必為 1  
2. 每節點出度必為 1  
3. 從任意節點出發能走訪所有節點  
4. 最終能回到出發點  

全部成立 → 完整循環（cycle）。  

---

